{
  "kind": "build_request",
  "title": "Add edit functionality for Cash, Sell, and Milk Collection entries",
  "projectName": "Anmol Dairy Life",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Add edit functionality to Cash Payment and Cash Received transactions in the CashModule component, allowing users to modify the amount, date, and description of existing cash transactions",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-19"
        ],
        "quotes": [
          "Add edit option in sell/cash/milk collection entrys"
        ]
      },
      "acceptanceCriteria": [
        "Each cash transaction row displays an edit button or icon",
        "Clicking edit opens a form pre-populated with the existing transaction data",
        "Users can modify amount, date, and description fields",
        "Saving the edit updates the transaction in the backend",
        "The transaction list refreshes to show the updated entry"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Add edit functionality to product sale entries in the SellModule component, allowing users to modify the product, quantity, price, customer name, and date of existing sales",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-19"
        ],
        "quotes": [
          "Add edit option in sell/cash/milk collection entrys"
        ]
      },
      "acceptanceCriteria": [
        "Each sale entry displays an edit button or icon",
        "Clicking edit opens a form pre-populated with the existing sale data",
        "Users can modify product selection, quantity, price, customer name, and date",
        "Saving the edit updates the sale record in the backend and adjusts inventory accordingly",
        "The sales list refreshes to show the updated entry"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Add edit functionality to milk collection entries, allowing users to modify the weight, fat percentage, SNF value, and date of existing collection records",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-19"
        ],
        "quotes": [
          "Add edit option in sell/cash/milk collection entrys"
        ]
      },
      "acceptanceCriteria": [
        "Each milk collection entry displays an edit button or icon in the data reports view",
        "Clicking edit opens a form pre-populated with the existing collection data",
        "Users can modify weight, fat percentage, SNF value, and date fields",
        "The amount is automatically recalculated based on the updated values",
        "Saving the edit updates the collection entry in the backend",
        "The collection list refreshes to show the updated entry with recalculated totals"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Create backend functions to support updating existing CollectionEntry, Transaction, and ProductSale records by their IDs",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-19"
        ]
      },
      "acceptanceCriteria": [
        "Backend provides an updateCollectionEntry function that accepts entry ID and updated fields",
        "Backend provides an updateTransaction function that accepts transaction ID and updated fields",
        "Backend provides an updateProductSale function that accepts sale ID and updated fields",
        "All update functions validate that the entry exists before modifying",
        "Update functions return success/failure status",
        "Updated entries maintain their original creation timestamps"
      ]
    }
  ],
  "constraints": [
    "Maintain the existing single-actor Motoko architecture",
    "Preserve all existing keyboard shortcuts and navigation patterns",
    "Do not modify immutable frontend paths including useInternetIdentity, useActor, main.tsx, and UI components",
    "Keep the current pagination and data fetching patterns intact"
  ],
  "nonGoals": [
    "Bulk editing of multiple entries at once",
    "Delete functionality for entries",
    "Audit trail or history of edits",
    "Permission-based edit restrictions",
    "Undo/redo functionality"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}